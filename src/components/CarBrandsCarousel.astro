---
import { Image } from 'astro:assets';

// Mevcut logoları import ediyoruz
import iveco from '../assets/car-brands/iveco.webp';
import hyundai from '../assets/car-brands/hyundai.webp';
import ford from '../assets/car-brands/ford.png';
import bmw from '../assets/car-brands/bmw.webp';
import volkswagen from '../assets/car-brands/volkswagen.webp';
import mercedes from '../assets/car-brands/mercedes.webp';
import toyota from '../assets/car-brands/toyota.webp';
import skoda from '../assets/car-brands/skoda.webp';
import fiat from '../assets/car-brands/fiat.webp';
import nissan from '../assets/car-brands/nissan.webp';
import alfaromeo from '../assets/car-brands/alfaromeo.webp';
import dacia from '../assets/car-brands/dacia.webp';
import renault from '../assets/car-brands/renault.webp';
import citroen from '../assets/car-brands/citroen.webp';
import porsche from '../assets/car-brands/porsche.webp';
import chevrolet from '../assets/car-brands/chevrolet.webp';
import kia from '../assets/car-brands/kia.webp';
import landrover from '../assets/car-brands/landrover.webp';

// Eksik logolar: isuzu, audi, peugeot - bunlar eklendiğinde import'ları ekleyin

const carBrands: Array<{ name: string; imageSrc?: any }> = [
  { name: 'IVECO', imageSrc: iveco },
  { name: 'ISUZU' }, // Logo eksik - eklendiğinde import edin
  { name: 'Hyundai', imageSrc: hyundai },
  { name: 'Ford', imageSrc: ford },
  { name: 'Audi' }, // Logo eksik - eklendiğinde import edin
  { name: 'BMW', imageSrc: bmw },
  { name: 'Volkswagen', imageSrc: volkswagen },
  { name: 'Mercedes', imageSrc: mercedes },
  { name: 'Toyota', imageSrc: toyota },
  { name: 'Skoda', imageSrc: skoda },
  { name: 'Fiat', imageSrc: fiat },
  { name: 'Nissan', imageSrc: nissan },
  { name: 'Alfa Romeo', imageSrc: alfaromeo },
  { name: 'Dacia', imageSrc: dacia },
  { name: 'Renault', imageSrc: renault },
  { name: 'Citroen', imageSrc: citroen },
  { name: 'Porsche', imageSrc: porsche },
  { name: 'Peugeot' }, // Logo eksik - eklendiğinde import edin
  { name: 'Chevrolet', imageSrc: chevrolet },
  { name: 'Kia', imageSrc: kia },
  { name: 'Land Rover', imageSrc: landrover },
];
---

<section class="py-16 bg-dark-light overflow-hidden">
  <div class="container mx-auto px-4">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 text-white">
      Hizmet Verdiğimiz <span class="text-primary">Markalar</span>
    </h2>
    <p class="text-center text-gray-400 mb-12 max-w-2xl mx-auto text-sm md:text-base">
      Tüm marka turbo tamiri, revizyon ve satış hizmeti sunuyoruz.
    </p>
    
    <!-- Carousel Container -->
    <div class="relative">
      <!-- Gradient Overlays -->
      <div class="absolute left-0 top-0 bottom-0 w-32 bg-gradient-to-r from-dark-light to-transparent z-10 pointer-events-none"></div>
      <div class="absolute right-0 top-0 bottom-0 w-32 bg-gradient-to-l from-dark-light to-transparent z-10 pointer-events-none"></div>
      
      <!-- Carousel -->
      <div class="carousel-container overflow-hidden">
        <div class="carousel-track flex gap-8 animate-scroll">
          <!-- İlk set (21 logo) -->
          {carBrands.map((brand) => (
            <div class="carousel-item flex-shrink-0 w-32 h-32 md:w-40 md:h-40 bg-white rounded-lg p-4 flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow">
              <div class="w-full h-full flex items-center justify-center">
                {brand.imageSrc ? (
                  <Image
                    src={brand.imageSrc}
                    alt={`${brand.name} logo`}
                    class="w-full h-full object-contain"
                    loading="lazy"
                    quality={85}
                  />
                ) : (
                  <div class="text-2xl md:text-3xl text-gray-400 font-bold text-center">
                    {brand.name}
                  </div>
                )}
              </div>
            </div>
          ))}
          
          <!-- İkinci set (infinite scroll için) -->
          {carBrands.map((brand) => (
            <div class="carousel-item flex-shrink-0 w-32 h-32 md:w-40 md:h-40 bg-white rounded-lg p-4 flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow">
              <div class="w-full h-full flex items-center justify-center">
                {brand.imageSrc ? (
                  <Image
                    src={brand.imageSrc}
                    alt={`${brand.name} logo`}
                    class="w-full h-full object-contain"
                    loading="lazy"
                    quality={85}
                  />
                ) : (
                  <div class="text-2xl md:text-3xl text-gray-400 font-bold text-center">
                    {brand.name}
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .carousel-container {
    mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
  }

  .carousel-track {
    width: fit-content;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-scroll {
    animation: scroll 30s linear infinite;
  }

  .animate-scroll:hover {
    animation-play-state: paused;
  }

  /* Pause animation on reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .animate-scroll {
      animation: none;
    }
  }
</style>

